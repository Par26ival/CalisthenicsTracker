<div data-controller="dropdown" class="relative">
  
  <!-- BUTTON -->
  <button 
    data-action="click->dropdown#toggle"
    class="w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center hover:bg-gray-400"
  >
    ðŸ‘¤
  </button>

  <!-- DROPDOWN MENU -->
  <div 
    data-dropdown-target="menu"
    class="absolute right-0 mt-2 w-48 bg-white shadow-lg rounded-md p-2 hidden z-50"
  >
    <div class="px-2 py-1 text-gray-600 text-sm">
      Logged in as <strong><%= current_user.username %></strong>
    </div>

    <%= link_to "Edit Profile", "/profile/edit",
      class: "block px-2 py-1 hover:bg-gray-100" %>

    <%= link_to "Change Password", edit_password_path,
      class: "block px-2 py-1 hover:bg-gray-100" %>

    <% if current_user.admin? %>
      <%= link_to "Admin Dashboard", "/admin/dashboard",
        class: "block px-2 py-1 hover:bg-gray-100 font-bold text-blue-600" %>
    <% end %>

    <%= link_to "Friends",
            friends_path,
            class: "block px-2 py-1 hover:bg-gray-200" %>

    <%= button_to "Logout",
      destroy_user_session_path,
      method: :delete,
      class: "w-full text-left px-2 py-1 hover:bg-gray-100 text-red-600" %>
  </div>

</div>
