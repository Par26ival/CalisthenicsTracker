<h1 class="text-3xl font-bold mb-6">Friends & Invitations</h1>

<!-- ACCEPTED FRIENDS -->
<section class="mb-8">
  <h2 class="text-2xl font-semibold mb-3">Friends</h2>

  <% if @friends.any? %>
    <ul class="list-disc pl-6">
      <% @friends.each do |friend| %>
        <li>
          <strong><%= friend.username %></strong>
          (<%= friend.email %>)
        </li>
      <% end %>
    </ul>
  <% else %>
    <p class="text-gray-500">You have no friends yet.</p>
  <% end %>
</section>

<!-- SENT INVITATIONS -->
<section class="mb-8">
  <h2 class="text-2xl font-semibold mb-3">Sent Friend Requests</h2>

  <% if @sent_requests.any? %>
    <ul class="list-disc pl-6">
      <% @sent_requests.each do |req| %>
        <li>
          Sent to <strong><%= req.receiver.username %></strong>
          <span class="text-gray-500">(pending)</span>
        </li>
      <% end %>
    </ul>
  <% else %>
    <p class="text-gray-500">No outgoing friend requests.</p>
  <% end %>
</section>

<!-- RECEIVED INVITATIONS -->
<section>
  <h2 class="text-2xl font-semibold mb-3">Received Friend Requests</h2>

  <% if @received_requests.any? %>
    <% @received_requests.each do |req| %>
      <div class="flex items-center justify-between bg-white shadow p-4 rounded mb-3">
        <div>
          <strong><%= req.requester.username %></strong> wants to be your friend
        </div>

        <div class="flex gap-2">
          <%= button_to "Accept",
                        accept_friendship_path(req),
                        method: :patch,
                        class: "bg-green-600 text-white px-3 py-1 rounded" %>

          <%= button_to "Decline",
                        decline_friendship_path(req),
                        method: :delete,
                        class: "bg-red-600 text-white px-3 py-1 rounded" %>
        </div>
      </div>
    <% end %>
  <% else %>
    <p class="text-gray-500">No incoming friend requests.</p>
  <% end %>
</section>
