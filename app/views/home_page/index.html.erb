<% if user_signed_in? %>

  <div class="w-full">
    <h1 class="text-3xl font-bold mb-6">Welcome to Calisthenics Tracker</h1>

    <p class="mb-4">
      Logged in as <strong><%= current_user.email %></strong>
      (<%= current_user.role %>)
    </p>

    <%= button_to "Logout",
                  destroy_user_session_path,
                  method: :delete,
                  class: "px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700" %>
  </div>

<% else %>

  <div class="flex gap-10 w-full justify-center">

    <!-- LOGIN FORM -->
    <div class="w-1/2 bg-white p-6 rounded shadow">
      <h2 class="text-xl font-semibold mb-4">Log In</h2>

      <%= form_for(@login_user, url: user_session_path) do |f| %>
        <div class="mb-4">
          <%= f.label :email, class: "block mb-1" %>
          <%= f.email_field :email, class: "w-full border p-2 rounded" %>
        </div>

        <div class="mb-4">
          <%= f.label :password, class: "block mb-1" %>
          <%= f.password_field :password, class: "w-full border p-2 rounded" %>
        </div>

        <%= f.submit "Log In",
                     class: "w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700" %>
      <% end %>
    </div>

    <!-- REGISTER FORM -->
    <div class="w-1/2 bg-white p-6 rounded shadow">
      <h2 class="text-xl font-semibold mb-4">Register</h2>

      <%= form_for(@register_user, url: user_registration_path) do |f| %>
        <div class="mb-4">
          <%= f.label :email, class: "block mb-1" %>
          <%= f.email_field :email, class: "w-full border p-2 rounded" %>
        </div>

        <div class="mb-4">
          <%= f.label :password, class: "block mb-1" %>
          <%= f.password_field :password, class: "w-full border p-2 rounded" %>
        </div>

        <div class="mb-4">
          <%= f.label :password_confirmation, class: "block mb-1" %>
          <%= f.password_field :password_confirmation, class: "w-full border p-2 rounded" %>
        </div>

        <%= f.submit "Create Account",
                     class: "w-full bg-green-600 text-white py-2 rounded hover:bg-green-700" %>
      <% end %>
    </div>

  </div>

<% end %>
